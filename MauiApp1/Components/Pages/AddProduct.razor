@page "/add"

<h3>AddProduct</h3>
<EditForm Model="product" OnValidSubmit="Add" class="border bg-light border-secondary-subtle  p-4 mt-3">
    <DataAnnotationsValidator />
    <ValidationSummary/>
    <div class="form-group mb-3">
        <label for="Name">Name</label>
        <InputText id="Name" class="form-control" @bind-Value="product.Name" />
        <ValidationMessage For="() => product.Name" />
    </div>
    <div class="form-group mb-3">
        <label for="Description">Description</label>
        <InputText id="Description" class="form-control" @bind-Value="product.Description" />
        <ValidationMessage For="() => product.Description" />
    </div>
    <div class="form-group mb-3">
        <label for="PLU">PLU Number</label>
        <InputNumber id="PLU" class="form-control" @bind-Value="product.Id" />
        <ValidationMessage For="() => product.Id" />
    </div>
    <div class="form-group mb-3">
        <label for="Price">Price</label>
        <InputNumber id="Price" class="form-control" @bind-Value="product.Price" />
        <ValidationMessage For="() => product.Price" />
    </div>
    <div class="form-group mb-3">
        <label for="Size">Size</label>
        <InputText id="Size" class="form-control" @bind-Value="product.Size" />
        <ValidationMessage For="() => product.Size" />
    </div>
    <button type="submit" class="btn btn-primary">Add</button>
</EditForm>

@code {
    [SupplyParameterFromForm]
    private Product product{ get; set; } = new();

    private void Add()
    {
        Product prod = new()
        {
            Name = product.Name,
            Price = product.Price,
            Size = product.Size,
            Description = product.Description,
            Id = product.Id
        };
        Console.WriteLine(prod.Name);
        Console.WriteLine(prod.Price);
        Console.WriteLine(prod.Size);
        Console.WriteLine(prod.Description);
        Console.WriteLine(prod.Id);
    }
}
